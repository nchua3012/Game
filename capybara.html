<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
        canvas {
            border: 1px solid #d3d3d3;
            background-color: #f1f1f1;
        }
    </style>
</head>
<body onload="startGame()">
<script>
function startGame() {
    myGameArea.start();
    myGamePiece = new Component(100, 100, 'Assets/Capybara_walk_right10x.gif', 10, 10);
    myGameArea.interval = setInterval(updateGameArea, 20);
}

var myGameArea = {
    canvas: document.createElement("canvas"),
    start: function() {
        this.canvas.width = 1280;
        this.canvas.height = 720;
        this.context = this.canvas.getContext("2d");
        document.body.insertBefore(this.canvas, document.body.childNodes[0]);
    },
    clear: function() {
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }
}

function Component(width, height, asset, x, y) {
    this.width = width;
    this.height = height;
    this.speedX = 0;
    this.speedY = 0;
    this.x = x;
    this.y = y;
    
    this.image = new Image();
    this.image.src = asset;

    this.update = function() {
        const ctx = myGameArea.context;
        ctx.drawImage(this.image, this.x, this.y, this.width, this.height); // Draw the GIF
    }

    this.newPos = function() {
        this.x += this.speedX;
        this.y += this.speedY;        
    }    
}

function updateGameArea() {
    myGameArea.clear();
    myGamePiece.newPos();    
    myGamePiece.update();
}

// Movement functions
function moveup() {
    myGamePiece.speedY = -1; 
}

function movedown() {
    myGamePiece.speedY = 1; 
}

function moveleft() {
    myGamePiece.speedX = -1; 
}

function moveright() {
    myGamePiece.speedX = 1; 
}

// Stop movement when key is released
function stopMove() {
    myGamePiece.speedX = 0;
    myGamePiece.speedY = 0;
}

// Adding event listeners for key controls
document.addEventListener("keydown", function(event) {
    switch(event.key) {
        case 'w':
            moveup();
            break;
        case 's':
            movedown();
            break;
        case 'a':
            moveleft();
            break;
        case 'd':
            moveright();
            break;
    }
});

document.addEventListener("keyup", stopMove);

</script>

<p>capybara</p>

</body>
</html>
